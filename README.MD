## Training Golang Dependency Injection

- Dalam pembuatan perangkat lunak, Dependency Injection merupakan sebuah teknik dimana sebuah object menerima object lain yang dibutuhkan (dependencies) ketika pembuatan object itu sendiri. Biasanya object yang menerima dependencies disebut client, proses mengirim dependencies ke object tersebut biasa dibilang inject. Dependency Injection sebenarnya sudah sering sekali kita lakukan, misal membuat object Controller yang membutuhkan dependencies object Service, atau membuat object Service yang membutuhkan dependencies object Repository
- Dalam bahasa pemrograman berorientasi object, ada istilah yang bernama Constructor, yaitu sebuah function yang digunakan ketika sebuah object dibuat, Di Go-Lang, biasanya kita juga membuat sebuah function untuk membuat object, dan ini mirip seperti Constructor tugasnya, yaitu membuat object baru, contoh nama functionnya `func NewCategoryService()`
- Biasanya kita akan membuat object dengan memanggil function Constructor tersebut, lalu mengirimkan dependencies yang dibutuhkan pada function Constructor tersebut. Cara seperti ini mudah dilakukan ketika kode program aplikasi kita tidak terlalu besar. Namun saat kode program aplikasi kita semakin besar, akan semakin sulit melakukan hal ini, terutama kita harus tahu urutan object mana yang harus dibuat terlebih dahulu. Oleh karena ini, proses Dependency Injection sebenarnya bisa kita permudah dengan memanfaatkan library
- Pada kelas ini, kita akan menggunakan Google Wire sebagai Dependency Injection library nya. Salah satu kenapa Google Wire menjadi pilihan, karena saat ini Google Wire adalah library paling populer untuk melakukan Dependency Injection di Go-Lang. Selain itu, Google Wire merupakan library Dependency Injection yang berbasis compile, artinya kodenya akan di generate, bukan menggunakan reflection. Hal ini membuat Google Wire menjadi cepat, karena hasil kompilasi nya adalah kode yang sudah di generate melakukan Dependency Injection, tanpa perlu menggunakan reflection lagi
- Untuk menambahkan dependency Google Wire cukup ketikan perintah `go get github.com/google/wire`
- Google Wire membutuhkan aplikasi command line wire untuk melakukan auto generate kode Dependency injection ketika kita nanti membuat kode. Program ini perlu kita install manual di komputer kita dengan perintah : `go install github.com/google/wire/cmd/wire@latest` Secara otomatis akan ada file binary di **$GOPATH/bin/wire** . Agar aplikasi command line wire tersebut bisa diakses, jangan lupa masukkan ke **$PATH** sistem operasi kita, seperti yang pernah kita lakukan ketika belajar setting $PATH Go-Lang di kelas Go-Lang Dasar
- Untuk melakukan Dependency Injection, kita perlu buat dalam bentuk function constructor. Dalam Google Wire, function constructor tersebut kita sebut dengan **Provider**
- Setelah kita membuat Provider untuk nanti kita gunakan, selanjutnya kita perlu membuat Injector. Injector sendiri adalah sebuah function constructor, namun isinya berupa konfigurasi yang kita beritahukan ke Google Wire. Injector ini sendiri sebenarnya tidak akan digunakan oleh kode program kita, Injector ini adalah function yang akan digunakan oleh Google Wire untuk melakukan auto generate kode Dependency Injection. Khusus ketika membuat Injector, pada file nya kita perlu tambahkan komentar penanda : `go:build wireinject + build wireinject`
- Setelah kita membuat Injector dan Provider, selanjutnya yang perlu kita lakukan adalah menggunakan aplikasi command line Google Wire untuk melakukan auto generate kode Dependency Injection. Kita bisa menggunakan perintah ini untuk melakukan auto generate kode dependency injection : **wire gen namapackage** Secara otomatis aplikasi Google Wire akan mencari kode Injector di package tersebut, lalu membuat file wire_gen.go yang isinya adalah kode otomatis dependency injection